[{"kind":2,"language":"surrealql","value":"BEGIN TRANSACTION;\n\nDEFINE TABLE artist SCHEMAFULL;\nDEFINE FIELD name ON artist TYPE string;\n\nDEFINE TABLE album SCHEMAFULL;\nDEFINE FIELD title ON album TYPE string;\nDEFINE FIELD author ON album TYPE record(artist);\n\nDEFINE TABLE song SCHEMAFULL;\nDEFINE FIELD title ON song TYPE string;\nDEFINE FIELD author ON song TYPE record(artist);\nDEFINE FIELD album ON song TYPE option<record(album)>;\n\nCOMMIT TRANSACTION;"},{"kind":2,"language":"surrealql","value":"DELETE song;"},{"kind":2,"language":"surrealql","value":"CREATE artist:beatle content {\n    name: \"the beatles\"\n};"},{"kind":2,"language":"surrealql","value":"CREATE album:abbey CONTENT {\n    title: \"Abbey Road\",\n    author: artist:beatle\n};"},{"kind":2,"language":"surrealql","value":"CREATE song content {\n    title : \"Something\",\n    author : artist:beatle,\n    album : album:abbey\n};\nCREATE song content {\n    title : \"Maxwell's\",\n    author : artist:beatle,\n};"},{"kind":2,"language":"surrealql","value":"SELECT * FROM song where author.name = 'the beatles' ;"},{"kind":2,"language":"surrealql","value":"SELECT * OMIT id FROM song where author.name = 'the beatles' ;"},{"kind":2,"language":"surrealql","value":"SELECT title, album FROM  song where author = artist:beatle FETCH album;"}]